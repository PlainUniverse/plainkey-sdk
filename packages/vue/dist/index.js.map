{"version":3,"file":"index.js","names":[],"sources":["../src/usePlainkey/index.ts"],"sourcesContent":["import { PlainKey } from \"@plainkey/browser\"\nimport type { UserIdentifier } from \"@plainkey/types\"\n\n/**\n *\n * @param projectId - Your PlainKey project ID. You can find it in the PlainKey admin dashboard.\n * @param baseUrl - Set by default to https://api.plainkey.io/browser. Change only for development purposes.\n *\n * Docs: https://plainkey.io/docs\n *\n * @example\n * const { login, createUserWithPasskey, addPasskey } = usePlainKey(\"projectId\")\n */\nexport function usePlainKey(projectId: string, baseUrl?: string) {\n  const plainKey = new PlainKey(projectId, baseUrl)\n\n  /**\n   * Authenticates a user. Can be used for login, verification, 2FA, etc.\n   * Will require user interaction to authenticate.\n   *\n   * @param userIdentifier - An object with either the user's PlainKey User ID or their userName.\n   */\n  function authenticate(userIdentifier?: UserIdentifier) {\n    return plainKey.authenticate(userIdentifier)\n  }\n\n  /**\n   * Registration of a new user with a passkey. Will require user interaction to create a passkey.\n   *\n   * @param userName - A stable unique identifier for the user, like an email address or username.\n   * Can be empty for usernameless login.\n   */\n  function createUserWithPasskey(userName?: string) {\n    return plainKey.createUserWithPasskey(userName)\n  }\n\n  /**\n   * Adds a passkey to an existing user. Will require user interaction to create a passkey.\n   *\n   * @param authenticationToken - The user authentication token, is returned from .authenticate() or createUserWithPasskey().\n   * Do NOT store it in local storage, database, etc. Always keep it in memory.\n   * @param userName - A stable unique identifier for the user, like an email address or username.\n   * If not provided, the user's stored userName will be used.\n   */\n  function addPasskey(authenticationToken: string, userName?: string) {\n    return plainKey.addPasskey(authenticationToken, userName)\n  }\n\n  /**\n   * Updates a passkey label. Requires authentication shortly before this call. Any passkey registered to the user can be updated.\n   * @param authenticationToken - The user authentication token, is returned from .authenticate() and createUserWithPasskey().\n   * Do NOT store it in local storage, database, etc. Always keep it in memory.\n   * @param credentialId - The ID of the passkey credential to update. Is returned from createUserWithPasskey() and addPasskey().\n   * @param label - The new label for the passkey.\n   */\n  function updatePasskeyLabel(authenticationToken: string, credentialId: string, label: string) {\n    return plainKey.updatePasskeyLabel(authenticationToken, credentialId, label)\n  }\n\n  return {\n    authenticate,\n    createUserWithPasskey,\n    addPasskey,\n    updatePasskeyLabel\n  }\n}\n"],"mappings":";;;;;;;;;;;;;AAaA,SAAgB,YAAY,WAAmB,SAAkB;CAC/D,MAAM,WAAW,IAAI,SAAS,WAAW,QAAQ;;;;;;;CAQjD,SAAS,aAAa,gBAAiC;AACrD,SAAO,SAAS,aAAa,eAAe;;;;;;;;CAS9C,SAAS,sBAAsB,UAAmB;AAChD,SAAO,SAAS,sBAAsB,SAAS;;;;;;;;;;CAWjD,SAAS,WAAW,qBAA6B,UAAmB;AAClE,SAAO,SAAS,WAAW,qBAAqB,SAAS;;;;;;;;;CAU3D,SAAS,mBAAmB,qBAA6B,cAAsB,OAAe;AAC5F,SAAO,SAAS,mBAAmB,qBAAqB,cAAc,MAAM;;AAG9E,QAAO;EACL;EACA;EACA;EACA;EACD"}